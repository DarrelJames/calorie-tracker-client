(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(e,t,a){e.exports=a.p+"static/media/kcal.84cdce0a.png"},330:function(e,t,a){e.exports=a(572)},460:function(e,t,a){},571:function(e,t,a){},572:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(55),c=a.n(o),l=a(81),s=a(22),i=a(23),u=a(25),p=a(24),m=a(26),d=a(20),h=a(30),f=a.n(h),b=a(21),g=a(100),E=a.n(g),v={API_URL:"https://murmuring-woodland-07227.herokuapp.com/"},O=E.a.create({baseURL:v.API_URL});O.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t?"Bearer ".concat(t):"",e}));var y=O,j=E.a.create({baseURL:"http://localhost:3001"}),S=E.a.create({baseURL:"https://api.edamam.com/api/food-database/parser"}),C=a(43),k=Object(C.a)(),w=a(101),_=a.n(w),N=function(e){return function(t){return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(y.delete("/entries/".concat(e)));case 2:t({type:"DELETE_ENTRY",payload:e});case 3:case"end":return a.stop()}}))}},A=a(588),I=a(585),T=a(586),L=a(592),x=a(595),F=a(576),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).renderInput=function(e){var t=e.input,n=e.placeholder,o=e.type,c=e.meta,l=!(!c.error||!c.touched);return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.Input,Object.assign({error:l},t,{fluid:!0,icon:"user",iconPosition:"left",placeholder:n,type:o})),a.renderError(c))},a.onSubmit=function(e){a.props.onSubmit(e),a.props.reset()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement(L.a,{negative:!0},r.a.createElement(L.a.Header,{content:t}))}},{key:"render",value:function(){var e="loading"===this.props.status;return r.a.createElement(T.a,{size:"large",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(x.a,{stacked:!0},r.a.createElement(A.a,{name:"name",component:this.renderInput,placeholder:"Enter Name",type:"text"}),r.a.createElement(A.a,{name:"email",component:this.renderInput,placeholder:"Enter Email",type:"text"}),r.a.createElement(A.a,{name:"password",component:this.renderInput,type:"password",placeholder:"password"}),r.a.createElement(F.a,{loading:e,primary:!0,fluid:!0,size:"large"},"Signup")))}}]),t}(r.a.Component),D=Object(I.a)({form:"signUp",validate:function(e){var t={};return e.name||(t.name="You must enter a name"),e.email||(t.email="You must enter a email"),e.password||(t.password="You must enter a password"),t}})(R),G=(a(460),a(51)),U=function(e){var t=e.message,a=e.link,n=e.linkText;return r.a.createElement(L.a,null,t," ",r.a.createElement(G.a,{to:a},n))},Y=Object(d.b)((function(e){var t=e.auth;return{message:t.message,status:t.status}}))((function(e){var t=e.message,a=e.status,n="success"===a?{positive:!0}:{negative:!0};return"success"!==a&&"error"!==a||!t?r.a.createElement(r.a.Fragment,null):r.a.createElement(L.a,n,r.a.createElement("p",null,t))})),H=a(596),M=a(597),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signUp(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(H.a.Column,{style:{maxWidth:450}},r.a.createElement(M.a,{as:"h2",textAlign:"center"},"Signup for Account"),r.a.createElement(D,{onSubmit:this.onSubmit,status:this.props.status}),r.a.createElement(Y,{message:this.props.message}),r.a.createElement(U,{message:"Already have an account?",link:"/login",linkText:"Log In"})))}}]),t}(n.Component),z=Object(d.b)((function(e){var t=e.auth;return{message:t.message,status:t.status}}),{signUp:function(e){return function(t){var a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"SIGN_UP_START"}),r.prev=1,r.next=4,f.a.awrap(j.post("/signup",{user:Object(b.a)({},e)}));case 4:a=r.sent,console.log(a),n=a.headers.authorization.split(" ")[1],t({type:"SIGN_UP_SUCCESS",payload:n}),localStorage.setItem("token",n),k.push("/profile"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),t({type:"SIGN_UP_FAILURE",payload:r.t0.response.data.errors.detail.user});case 15:case"end":return r.stop()}}),null,null,[[1,12]])}}})(P),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).renderInput=function(e){var t=e.input,n=e.placeholder,o=e.type,c=e.meta,l=!(!c.error||!c.touched);return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.Input,Object.assign({error:l},t,{fluid:!0,icon:"user",iconPosition:"left",placeholder:n,type:o})),a.renderError(c))},a.onSubmit=function(e){a.props.onSubmit(e),a.props.reset()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement(L.a,{negative:!0},r.a.createElement(L.a.Header,{content:t}))}},{key:"render",value:function(){var e="loading"===this.props.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{size:"large",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(x.a,{stacked:!0},r.a.createElement(A.a,{name:"email",component:this.renderInput,placeholder:"Enter Email"}),r.a.createElement(A.a,{name:"password",component:this.renderInput,placeholder:"Enter Password",type:"password"}),r.a.createElement(F.a,{loading:e,primary:!0,fluid:!0,size:"large"},"Login"))))}}]),t}(r.a.Component),V=Object(I.a)({form:"logIn",validate:function(e){var t={};return e.email||(t.email="You must enter a email"),e.password||(t.password="You must enter a password"),t}})(B),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.logIn(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(H.a.Column,{style:{maxWidth:450}},r.a.createElement(M.a,{as:"h2",textAlign:"center"},"Login to Your Account"),r.a.createElement(V,{onSubmit:this.onSubmit,status:this.props.status}),r.a.createElement(Y,{message:this.props.message}),r.a.createElement(U,{message:"New to us?",link:"/signup",linkText:"Sign Up"})))}}]),t}(n.Component),W=Object(d.b)((function(e){var t=e.auth;return{message:t.message,status:t.status}}),{logIn:function(e){return function(t){var a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"LOG_IN_START"}),r.prev=1,r.next=4,f.a.awrap(j.post("/login",{user:Object(b.a)({},e)}));case 4:a=r.sent,n=a.headers.authorization.split(" ")[1],localStorage.setItem("token",n),t({type:"LOG_IN_SUCCESS",payload:n}),k.push("/logs"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),t({type:"LOG_IN_FAILURE",payload:r.t0.response});case 14:case"end":return r.stop()}}),null,null,[[1,11]])}}})(K),J=a(160),X=a.n(J),q=a(593),Q=a(590),Z=a(320),$=Object(d.b)((function(e){return{token:e.auth.token}}),{logOut:function(){return function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(y.delete("/logout"));case 2:localStorage.removeItem("token"),e({type:"LOG_OUT"}),k.push("/login");case 5:case"end":return t.stop()}}))}}})((function(e){return r.a.createElement(q.a,null,r.a.createElement(q.a.Item,{as:G.a,to:"/"},r.a.createElement(Z.a,{src:X.a,size:"mini",alt:"logo"}),"Calorie Tracker"),function(){if(e.token)return r.a.createElement(q.a.Item,{position:"right"},r.a.createElement(q.a.Item,{as:G.b,to:"/logs"},"Today's Log"),r.a.createElement(Q.a,{item:!0,text:"My Account"},r.a.createElement(Q.a.Menu,null,r.a.createElement(Q.a.Item,{as:G.a,to:"/profile"},"Goals"),r.a.createElement(Q.a.Item,{onClick:function(){return e.logOut()}},"Logout"))))}())})),ee=a(77),te=a.n(ee),ae=a(591),ne=a(584),re=a(599),oe=a(587),ce=a(92),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.show=function(e){return function(){return a.setState({dimmer:e,open:!0})}},a.close=function(){return a.setState({open:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open,a=this.props,n=a.entry,o=a.label;return r.a.createElement("div",null,r.a.createElement(F.a,{onClick:this.show(),negative:!0},"Remove"),r.a.createElement(oe.a,{dimmer:"blurring",basic:!0,open:t,onClose:this.close,size:"mini"},r.a.createElement(M.a,{icon:"trash",content:o}),r.a.createElement(oe.a.Content,null,r.a.createElement("p",null,"Are you sure you want to remove?")),r.a.createElement(oe.a.Actions,null,r.a.createElement(F.a,{basic:!0,color:"red",inverted:!0,onClick:this.close},r.a.createElement(ce.a,{name:"remove"})," No"),r.a.createElement(F.a,{color:"green",inverted:!0,onClick:function(){return e.props.deleteEntry(n)}},r.a.createElement(ce.a,{name:"checkmark"})," Yes"))))}}]),t}(r.a.Component),se=Object(d.b)(null,{deleteEntry:N})(le),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleTableRowClick=function(){a.setState((function(e){return{visible:!e.visible}}))},a.handleChange=function(e){e.persist(),a.setState((function(t){return Object(b.a)({},t,{value:e.target.value,food:Object(b.a)({},t.food,{fat:Math.ceil(a.fat*e.target.value),protein:Math.ceil(a.protein*e.target.value),calories:Math.ceil(a.calories*e.target.value),carbs:Math.ceil(a.carbs*e.target.value)})})}),(function(){a.updateServings()}))},a.updateServings=function(){return a.props.updateEntry(a.props.entry_id,a.state.value)},a.handleEditClick=function(){a.props.updateEntry(a.props.entry_id,a.state.value)},a.handleDeleteClick=function(){a.props.deleteEntry(a.props.entry_id)},a.renderEdit=function(){if(a.state.visible)return r.a.createElement(ae.a.Cell,{colSpan:"5",collapsing:!0},r.a.createElement(T.a,null,r.a.createElement(T.a.Group,{inline:!0},r.a.createElement(T.a.Field,null,r.a.createElement("label",null,"Servings (100g)"),r.a.createElement(ne.a,{value:a.state.value,onChange:function(e){return a.handleChange(e)},style:{width:"50px"}})),r.a.createElement(se,{label:a.state.food.label,entry:a.props.entry_id}))))},a.fat=e.fat,a.protein=e.protein,a.calories=e.calories,a.carbs=e.carbs,a.state={visible:!1,value:a.props.servings,food:{label:e.label,fat:a.fat*a.props.servings,protein:a.protein*a.props.servings,calories:a.calories*a.props.servings,carbs:a.carbs*a.props.servings}},a.updateServings=Object(ee.debounce)(a.updateServings,500),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Row,{onClick:this.handleTableRowClick},r.a.createElement(ae.a.Cell,null,this.state.food.label),r.a.createElement(ae.a.Cell,null,this.state.food.carbs),r.a.createElement(ae.a.Cell,null,this.state.food.protein),r.a.createElement(ae.a.Cell,null,this.state.food.fat),r.a.createElement(ae.a.Cell,null,this.state.food.calories)),r.a.createElement(re.a.Group,{as:ae.a.Row,animation:"slide down",duration:500},this.renderEdit()))}}]),t}(r.a.Component),ue=Object(d.b)(null,{updateEntry:function(e,t){return function(a){var n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(y.patch("/entries/".concat(e),{servings:t}));case 2:n=r.sent,a({type:"UPDATE_ENTRY",payload:n.data});case 4:case"end":return r.stop()}}))}},deleteEntry:N})(ie),pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).renderFoods=function(){if(a.props.logSet)return a.props.log.entries.filter((function(e){return e.category===a.props.category})).map((function(e){return e.foods.map((function(t){return r.a.createElement(re.a.Group,Object.assign({animation:"slide down",duration:"500",as:ue,servings:e.servings,entry_id:e.id,key:t.id},t))}))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(ae.a,{structured:!0,unstackable:!0,selectable:!0},r.a.createElement(ae.a.Header,null,r.a.createElement(ae.a.Row,null,r.a.createElement(ae.a.HeaderCell,null,this.props.category),r.a.createElement(ae.a.HeaderCell,null,"Carbs"),r.a.createElement(ae.a.HeaderCell,null,"Protein"),r.a.createElement(ae.a.HeaderCell,null,"Fat"),r.a.createElement(ae.a.HeaderCell,null,"Calories"))),r.a.createElement(ae.a.Body,null,this.renderFoods()),r.a.createElement(ae.a.Footer,null,r.a.createElement(ae.a.Row,null,r.a.createElement(ae.a.Cell,null,r.a.createElement(ce.a,{color:"green",name:"plus"}),r.a.createElement(G.a,{to:"/entries/new?category=".concat(this.props.category)},"Add Food Item")))))}}]),t}(n.Component),me=Object(d.b)((function(e,t){return{log:e.logs[e.logs.date],logSet:e.logs.logSet}}))(pe),de=a(321),he=a(316),fe=a.n(he),be=(a(517),function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({startDate:e});var t=_()(e).format("YYYY-MM-DD");a.props.selectDay(t)};var n=e.log.date.split("-"),r=Object(de.a)(n,3),o=r[0],c=r[1],l=r[2];return a.state={startDate:new Date(o,c-1,l)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(fe.a,{selected:this.state.startDate,onChange:this.handleChange})}}]),t}(n.Component)),ge=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.date?this.props.fetchLog(this.props.match.params.date):k.push("/logs/".concat(this.props.logs.date))}},{key:"componentDidUpdate",value:function(e){e.logs.date!==this.props.logs.date&&this.props.fetchLog(this.props.match.params.date)}},{key:"render",value:function(){var e=this;return this.props.fetchingLog?r.a.createElement("div",null,"Loading"):r.a.createElement("div",null,r.a.createElement(T.a,{align:"center"},r.a.createElement(T.a.Field,{control:be,selectDay:function(t){return e.props.selectDay(t)},log:this.props.logs})),r.a.createElement(me,{category:"Breakfast"}),r.a.createElement(me,{category:"Lunch"}),r.a.createElement(me,{category:"Dinner"}),r.a.createElement(me,{category:"Snacks"}))}}]),t}(n.Component),Ee=Object(d.b)((function(e){return{logs:e.logs}}),{fetchLog:function(e){return function(t){var a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=_()(e).format("YYYY-MM-DD"),t({type:"FETCH_LOG_START",payload:a}),r.next=4,f.a.awrap(y.get("/logs/".concat(a)));case 4:n=r.sent,t({type:"FETCH_LOG_SUCCESS",payload:n.data});case 6:case"end":return r.stop()}}))}},selectDay:function(e){return k.push("/logs/".concat(e)),{type:"SELECT_DAY",payload:e}}})(ge),ve=a(59),Oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(ve.a)({},e.target.name,e.target.value),(function(){a.startSearch()}))},a.startSearch=function(){a.state.searchTerm.length>2&&a.props.onSubmit(a.state.searchTerm)},a.state={searchTerm:""},a.startSearch=Object(ee.debounce)(a.startSearch,1e3),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui category search"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{className:"prompt",name:"searchTerm",placeholder:"Search foods...",value:this.state.searchTerm,onChange:this.handleChange}),r.a.createElement("i",{className:"search icon"}," ")))}}]),t}(n.Component),ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(){a.setState((function(e){return{hidden:!e.hidden}}))},a.handleChange=function(e){e.persist(),a.setState((function(t){return Object(b.a)({},t,{value:e.target.value,food:Object(b.a)({},t.food,{fat:a.fat*e.target.value,protein:a.protein*e.target.value,calories:a.calories*e.target.value,carbs:a.carbs*e.target.value})})}))},a.handleAddClick=function(){var e=new URLSearchParams(a.props.search);a.props.createEntry({category:e.get("category"),servings:a.state.value,foods_attributes:[{label:a.props.label,fat:a.fat,protein:a.protein,calories:a.calories,carbs:a.carbs}]})},a.renderAdd=function(){if(!a.state.hidden)return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5"},r.a.createElement("div",{className:"ui form"},r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"text",className:"ui input",style:{width:"50px"},value:a.state.value,onChange:function(e){return a.handleChange(e)}}),r.a.createElement("div",{onClick:a.handleAddClick,className:"ui positive button"},"Add")))))},a.fat=e.FAT?Math.ceil(e.FAT):0,a.protein=e.PROCNT?Math.ceil(e.PROCNT):0,a.calories=e.ENERC_KCAL?Math.ceil(e.ENERC_KCAL):0,a.carbs=e.CHOCDF?Math.ceil(e.CHOCDF):0,a.state={hidden:!0,value:1,food:{label:e.label,fat:a.fat,protein:a.protein,calories:a.calories,carbs:a.carbs}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{style:{cursor:"pointer"},onClick:this.handleClick},r.a.createElement("td",null,this.props.label),r.a.createElement("td",null,this.state.food.carbs),r.a.createElement("td",null,this.state.food.protein),r.a.createElement("td",null,this.state.food.fat),r.a.createElement("td",null,this.state.food.calories)),this.renderAdd())}}]),t}(n.Component),je=Object(d.b)(null,{createEntry:function(e){return function(t,a){var n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(y.post("/entries",{log_id:a().logs[a().logs.date].id,entry:Object(b.a)({},e)}));case 2:n=r.sent,t({type:"CREATE_ENTRY",payload:n.data}),k.push("/logs/".concat(a().logs.date));case 5:case"end":return r.stop()}}))}}})(ye),Se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).renderFoodSearchItems=function(){return a.props.foods.map((function(e){return r.a.createElement(je,Object.assign({},a.props.history.location,e.food.nutrients,{key:e.food.foodId,label:e.food.label}))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.searching?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui segment",style:{height:"200px"}},r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui large text loader"},"Loading")))):this.props.foods?r.a.createElement("table",{className:"ui red table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"seven wide"},"Food Name"),r.a.createElement("th",{className:"two wide"},"Carbs"),r.a.createElement("th",{className:"two wide"},"Protein"),r.a.createElement("th",{className:"two wide"},"Fat"),r.a.createElement("th",{className:"three wide"},"Calories"))),r.a.createElement("tbody",null,this.renderFoodSearchItems())):r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component),Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){a.props.searchFood(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{onSubmit:this.handleSubmit}),r.a.createElement(Se,Object.assign({},this.props,{foods:this.props.foods,searching:this.props.searching})))}}]),t}(n.Component),ke=Object(d.b)((function(e){return{foods:e.edamam.foods,searching:e.edamam.searching}}),{searchFood:function(e){return function(t){var a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"SEARCHING_FOOD"}),n.next=3,f.a.awrap(S.get("",{params:{app_id:"ade3724d",app_key:"ad2a6d505a6fe3133d4637e9e42b5159",ingr:e}}));case 3:a=n.sent,t({type:"SEARCH_FOOD",payload:a.data.hints});case 5:case"end":return n.stop()}}))}}})(Ce),we=a(168),_e=Object(l.f)(Object(d.b)((function(e){var t=e.auth,a=t.token;return{errorStatusCode:t.errorStatusCode,token:a}}))((function(e){var t=e.component,a=(e.auth,e.token),n=e.errorStatusCode,o=Object(we.a)(e,["component","auth","token","errorStatusCode"]);return r.a.createElement(l.b,Object.assign({},o,{render:function(e){return a&&401!==n?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))}))),Ne=Object(l.f)(Object(d.b)((function(e){var t=e.auth,a=t.token;return{errorStatusCode:t.errorStatusCode,token:a}}))((function(e){var t=e.component,a=(e.auth,e.token),n=(e.errorStatusCode,Object(we.a)(e,["component","auth","token","errorStatusCode"]));return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(l.a,{to:"/logs"}):r.a.createElement(t,e)}}))}))),Ae=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).renderInput=function(e){var t=e.input,n=e.placeholder,o=e.label,c=e.meta,l="field ".concat(c.error&&c.touched?"error":"");return r.a.createElement("div",{className:l},r.a.createElement("label",null,o),r.a.createElement("input",Object.assign({},t,{autoComplete:"off",placeholder:n})),a.renderError(c))},a.onSubmit=function(e){a.props.onSubmit(e),a.props.reset()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},t))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error segment stacked"},r.a.createElement("div",{className:"ui four fields"},r.a.createElement(A.a,{name:"carbs",component:this.renderInput,label:"Carbohydrates(g)"}),r.a.createElement(A.a,{name:"fat",component:this.renderInput,label:"Fat(g)"}),r.a.createElement(A.a,{name:"protein",component:this.renderInput,label:"Protein(g)"}),r.a.createElement(A.a,{name:"calories",component:this.renderInput,label:"Calories"})),r.a.createElement("button",{className:"ui button green"},"Save Goal"))}}]),t}(r.a.Component),Ie=Object(I.a)({form:"goal",enableReinitialize:!0})(Ae),Te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){a.props.saveGoal(e,a.props.goal.id)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGoal()}},{key:"render",value:function(){var e=te.a.pick(this.props.goal,["carbs","protein","fat","calories"]);return r.a.createElement("div",{style:{width:"80%",margin:"auto"}},r.a.createElement("h1",null,"My Daily Goals"),r.a.createElement(Ie,{onSubmit:this.handleSubmit,initialValues:Object(b.a)({},e)}))}}]),t}(n.Component),Le=Object(d.b)((function(e){return{goal:e.goal.goal}}),{saveGoal:function(e,t){return function(a){var n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(y.patch("/goals/".concat(t),e));case 2:n=r.sent,a({type:"SAVE_GOAL",payload:n.data});case 4:case"end":return r.stop()}}))}},fetchGoal:function(){return function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(y.get("/goals"));case 2:t=a.sent,e({type:"FETCH_GOAL",payload:t.data});case 4:case"end":return a.stop()}}))}}})(Te),xe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.token?r.a.createElement(l.a,{to:"/logs"}):r.a.createElement(l.a,{to:"/login"}),r.a.createElement("h1",{className:"ui centered header"},r.a.createElement("img",{src:X.a,className:"ui large image",alt:"logo"}),"Calorie Tracker"),r.a.createElement("div",{className:"ui placeholder segment"},r.a.createElement("div",{className:"ui two column very relaxed stackable grid"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui blue submit button"},"Login")),r.a.createElement("div",{className:"middle aligned column"},r.a.createElement("div",{className:"ui big button"},r.a.createElement("i",{className:"signup icon"}),"Sign Up"))),r.a.createElement("div",{className:"ui vertical divider"},"Or")))}}]),t}(n.Component),Fe=Object(d.b)((function(e){return{token:e.auth.token}}))(xe);a(571);var Re=Object(d.b)((function(e){return{token:e.auth.token}}))((function(e){var t=e.token;return r.a.createElement("div",{className:"ui container"},r.a.createElement(l.c,{history:k},r.a.createElement(r.a.Fragment,null,t&&r.a.createElement($,null),r.a.createElement(Ne,{path:"/",exact:!0,component:Fe}),r.a.createElement(_e,{path:"/logs",exact:!0,component:Ee}),r.a.createElement(_e,{path:"/logs/:date",exact:!0,component:Ee}),r.a.createElement(Ne,{path:"/login",component:W}),r.a.createElement(Ne,{path:"/signup",component:z}),r.a.createElement(_e,{path:"/entries/new",component:ke}),r.a.createElement(_e,{path:"/profile",component:Le}))))})),De=a(29),Ge=a(319),Ue=a(594),Ye={token:localStorage.getItem("token"),status:"idle",message:"",errorStatusCode:null},He={date:_()(new Date).format("YYYY-MM-DD"),fetchingLog:!1,logSet:!1},Me={},Pe=Object(De.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP_START":return Object(b.a)({},e,{status:"loading"});case"SIGN_UP_SUCCESS":return Object(b.a)({},e,{},Ye);case"SIGN_UP_FAILURE":return Object(b.a)({},e,{status:"error",message:t.payload});case"LOG_IN_START":return Object(b.a)({},e,{status:"loading"});case"LOG_IN_SUCCESS":return Object(b.a)({},e,{status:"success",token:t.payload,errorStatusCode:""});case"LOG_IN_FAILURE":return Object(b.a)({},e,{status:"error",message:t.payload.data,errorStatusCode:t.payload.status});case"LOG_OUT":return Object(b.a)({},e,{status:"idle",token:null});default:return e}},form:Ue.a,edamam:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCHING_FOOD":return Object(b.a)({},e,{searching:!0});case"SEARCH_FOOD":return Object(b.a)({},e,{foods:t.payload,searching:!1});default:return e}},logs:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_LOGS":return Object(b.a)({},t,{},te.a.mapKeys(a.payload,"date"));case"FETCH_LOG_START":return Object(b.a)({},t,{fetchingLog:!0,date:a.payload});case"FETCH_LOG_SUCCESS":return Object(b.a)({},t,(e={},Object(ve.a)(e,a.payload.date,a.payload),Object(ve.a)(e,"logSet",!0),Object(ve.a)(e,"fetchingLog",!1),e));case"CREATE_ENTRY":return Object(b.a)({},t,Object(ve.a)({},a.payload.date,a.payload));case"UPDATE_ENTRY":return Object(b.a)({},t,Object(ve.a)({},t.date,Object(b.a)({},t[t.date],{entries:t[t.date].entries.map((function(e){return e.id===a.payload.id?a.payload:e}))})));case"DELETE_ENTRY":return Object(b.a)({},t,Object(ve.a)({},t.date,Object(b.a)({},t[t.date],{entries:t[t.date].entries.filter((function(e){return e.id!==a.payload}))})));case"SELECT_DAY":return Object(b.a)({},t,{date:a.payload,logSet:!1});default:return t}},goal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GOAL":case"SAVE_GOAL":return Object(b.a)({},e,{goal:t.payload});default:return e}}}),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.d,Be=Object(De.e)(Pe,ze(Object(De.a)(Ge.a)));c.a.render(r.a.createElement(d.a,{store:Be},r.a.createElement(Re,null)),document.getElementById("root"))}},[[330,1,2]]]);
//# sourceMappingURL=main.acd457d5.chunk.js.map